## 보안

쿠버네티스의 RBAC(Role-Based Access Control)은 역할을 기반으로 쿠버네티스에 접속할 수 있는 권한을 관리합니다.
즉, 사용자(user)와 역할(role) 두 가지를 조합해 사용자에게 권한을 부여 할 수 있습니다.
예를 들어 특정 사용자는 쿠버네티스 클러스터에는 접속할 수 없고 특정 파드에만 접속할 수 있게 권한을 설정할 수 있습니다.

롤은 두가지 유형으로 구분 할 수 있습니다.
단순 역할: 그 역할이 속한 네임스페이스에만 적용된다. 
클러스터 역할: 클러스터 전체에 적용된다.

### 네임스페이스
네임스페이스란 쿠버네티스 클러스터 내의 논리적인 구성 단위입니다. 
논리적인 구성 단위는 여러 워커 노드를 걸쳐 구성될 수 있습니다. 
사용 예시로는 개발과 운영 환경을 각각 네임스페이스로 분리 구성하고 각 네임스페이스마다 CPU, 메모리등 리소스를 개별 할당 할 수 있습니다.

### 서비스 어카운트

서비스 어카운트는 클러아이언트가 쿠버네티스 API를 호출할 떄 사용합니다. 
즉 사람에게 부여하는 것이 아니라 쿠버네티스 API에 접근하는 시스템에 부여하는 권한입니다. 
서비스 어카운트는 오브젝트이고 네임스페이스마다 정의할 수 있지만 기본적으로 `default 서비스 어카운트`가 자동으로 생성됩니다.

역할: 어떤 리소스에 어떤 액션을 수행할 수 있는지를 정의함
역할 바인딩: 주체(사용자 혹은 그룹)에 역할을 연결하는 것을 의미함


### 서비스 어카운트 생성하기

1. `kubectl create namespace account` 
2. `kubectl create serviceaccount api-service-account -n account` # note: -n account가 account라는 네임스페이스를 이용하겠다는 의미